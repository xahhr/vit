<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙƒÙ…Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ - Ø¨Ø¯Ø¡ Ù…Ù† 12 Ù†ÙˆÙÙ…Ø¨Ø± 2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: sans-serif; background: #f4f7fa; padding: 20px; color: #222; margin: 0; }
    h1 { text-align: center; color: #004080; margin-bottom: 10px; }
    .info { text-align: center; color: #555; font-size: 14px; margin-bottom: 20px; }
    .section { background: white; border-radius: 12px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .section h2 { font-size: 18px; color: #006699; margin: 0 0 12px; text-align: center; }
    .time-block { background: #f9f9fb; border-radius: 10px; padding: 12px; margin-bottom: 15px; border-left: 5px solid #28a745; }
    .time-block h3 { font-size: 16px; color: #004080; margin: 0 0 8px; }
    .supplement { display: flex; align-items: center; margin-bottom: 8px; padding: 5px 0; border-bottom: 1px dashed #eee; }
    .supplement label { flex: 1; margin-left: 10px; font-weight: bold; font-size: 15px; }
    input[type="checkbox"] { transform: scale(1.3); }
    .note { font-size: 12px; color: #555; margin-right: 30px; display: block; }
    .progress-bar { height: 12px; background: #e0e0e0; border-radius: 6px; margin: 15px 0; overflow: hidden; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #28a745, #34d058); width: 0%; transition: width 0.4s ease; }
    .summary { text-align: center; font-weight: bold; font-size: 18px; margin: 20px 0; color: #004080; }
    .btn { background: #006699; color: white; border: none; padding: 10px 15px; border-radius: 8px; cursor: pointer; margin: 5px; font-weight: bold; font-size: 14px; }
    .btn:hover { background: #004d80; }
    .today { border: 3px solid #28a745; background: #e6f4ea; }
    .week-nav { display: flex; justify-content: center; gap: 10px; margin: 20px 0; }
    .week-btn { background: #f0f0f0; color: #004080; padding: 8px 12px; border-radius: 8px; font-size: 14px; }
    .week-btn.active { background: #006699; color: white; }
  </style>
</head>
<body>
  <h1>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙƒÙ…Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ - Ø¨Ø¯Ø¡ Ù…Ù† 12 Ù†ÙˆÙÙ…Ø¨Ø± 2025</h1>
  <p class="info">Ù…Ø³ØªØ®Ø¯Ù…: @xahhr2015 | Ù…ØµØ± | Ø§Ù„ÙŠÙˆÙ…: <span id="current-date">12 / 11</span></p>

  <div class="week-nav">
    <button class="week-btn" onclick="changeWeek(-1)">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
    <button class="week-btn active" id="week-display">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1</button>
    <button class="week-btn" onclick="changeWeek(1)">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </div>

  <p class="summary">Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ: <span id="progress-text">0%</span> (<span id="checked-count">0</span> Ù…Ù† <span id="total-count">0</span>)</p>
  <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>

  <div class="section today" id="day-container">
    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„ÙŠÙˆÙ… Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
  </div>

  <div style="text-align: center; margin: 20px 0;">
    <button class="btn" onclick="exportData()">ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    <button class="btn" onclick="resetToday()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙŠÙˆÙ…</button>
    <button class="btn" onclick="printWeek()">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</button>
  </div>

  <script>
    const START_DATE = new Date('2025-11-12');
    let currentWeekOffset = 0;

    // Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø­Ø³Ø¨ Ø·Ù„Ø¨Ùƒ Ø¨Ø§Ù„Ø¶Ø¨Ø·
    const supplements = {
      morning: [
        { id: 'Milk_Thistle', label: 'Milk Thistle', note: 'Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ø© ÙØ§Ø±ØºØ© â€” ÙŠØ­Ù…ÙŠ Ø§Ù„ÙƒØ¨Ø¯' },
        { id: 'Vitamin_C', label: 'Vitamin C (NOW C-1000)', note: 'Ø¨Ø¹Ø¯ Milk Thistle â€” Ù…Ù†Ø§Ø¹Ø©' },
        { id: 'Ginseng_Lysine', label: 'Ginseng + Lysine', note: 'Ø·Ø§Ù‚Ø© + Ù…Ù†Ø§Ø¹Ø©' },
        { id: 'B_Complex', label: 'B-Complex', note: 'Ù…Ø¹ Ø§Ù„Ø·Ø¹Ø§Ù… â€” Ø·Ø§Ù‚Ø© + Ø¯ÙˆØ¨Ø§Ù…ÙŠÙ†' },
        { id: 'Omega_3', label: 'Omega-3', note: 'Ù…Ø¹ Ø§Ù„Ø¥ÙØ·Ø§Ø± â€” Ø¯Ø¹Ù… Ø§Ù„Ø£Ø¹ØµØ§Ø¨' },
        { id: 'Zinc', label: 'Zinc', note: 'Ù…Ø¹ Ø§Ù„Ø·Ø¹Ø§Ù… â€” Ù…Ù†Ø§Ø¹Ø© + Ù‡Ø±Ù…ÙˆÙ†Ø§Øª' },
        { id: 'L_Carnitine', label: 'L-Carnitine', note: 'Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø§Ø· â€” Ø·Ø§Ù‚Ø©' }
      ],
      afternoon: [
        { id: 'Vitamin_D3', label: 'Vitamin D3', note: 'Ù…Ø¹ ÙˆØ¬Ø¨Ø© Ø¯Ø³Ù…Ø© â€” Ø§Ù…ØªØµØ§Øµ Ø£ÙØ¶Ù„' },
        { id: 'CoQ10', label: 'CoQ10', note: 'Ù…Ø¹ Ø¯Ù‡ÙˆÙ† â€” Ø·Ø§Ù‚Ø© Ù…ÙŠØªÙˆÙƒÙˆÙ†Ø¯Ø±ÙŠØ§' },
        { id: 'L_Tyrosine', label: 'L-Tyrosine', note: 'Ø¨Ø¹Ø¯ Ø§Ù„ØºØ¯Ø§Ø¡ â€” ØªØ±ÙƒÙŠØ²' },
        { id: 'Royal_Jelly', label: 'Royal Jelly', note: 'Ø·Ø§Ù‚Ø© Ø·Ø¨ÙŠØ¹ÙŠØ©' },
        { id: 'NAC', label: 'NAC', note: 'Ù…Ø¶Ø§Ø¯ Ø£ÙƒØ³Ø¯Ø© + ÙƒØ¨Ø¯' },
        { id: 'Selenium', label: 'Selenium', note: 'Ù…Ø¹ Ø§Ù„Ø·Ø¹Ø§Ù… â€” Ù…Ù†Ø§Ø¹Ø©' }
      ],
      evening: [
        { id: 'Magnesium', label: 'Magnesium', note: 'Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… â€” Ø§Ø³ØªØ±Ø®Ø§Ø¡' },
        { id: 'Ashwagandha', label: 'Ashwagandha', note: 'ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù‚Ù„Ù‚ + Ù†ÙˆÙ…' },
        { id: 'Probiotic', label: 'Probiotic', note: 'Ù…Ø¹ Ø²Ø¨Ø§Ø¯ÙŠ â€” Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ù…Ø¹Ø§Ø¡' },
        { id: 'Psyllium_Husk', label: 'Psyllium Husk', note: 'Ù…Ø¹ Ù…Ø§Ø¡ â€” Ø£Ù„ÙŠØ§Ù' }
      ]
    };

    function getDateFromOffset(offset) {
      const date = new Date(START_DATE);
      date.setDate(date.getDate() + offset);
      return date;
    }

    function formatDate(date) {
      return `${String(date.getDate()).padStart(2, '0')} / ${String(date.getMonth() + 1).padStart(2, '0')}`;
    }

    function generateDayHTML(dateOffset) {
      const date = getDateFromOffset(dateOffset);
      const dateStr = formatDate(date);
      const keyPrefix = dateStr.replace('/', '_');

      let html = `<h2>ğŸ“… ${dateStr} â€” Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${(Math.floor(dateOffset / 7) + 1)}</h2>`;

      // ØµØ¨Ø§Ø­Ù‹Ø§
      html += `<div class="time-block"><h3>ğŸ•– ØµØ¨Ø§Ø­Ù‹Ø§</h3>`;
      supplements.morning.forEach(s => {
        const id = `${keyPrefix}_${s.id}`;
        html += `
          <div class="supplement">
            <input type="checkbox" id="${id}" onchange="saveAndUpdate(this)">
            <label for="${id}">${s.label}</label>
            <span class="note">${s.note}</span>
          </div>`;
      });
      html += `</div>`;

      // Ø¨Ø¹Ø¯ Ø§Ù„ØºØ¯Ø§Ø¡
      html += `<div class="time-block"><h3>ğŸ•› Ø¨Ø¹Ø¯ Ø§Ù„ØºØ¯Ø§Ø¡</h3>`;
      supplements.afternoon.forEach(s => {
        const id = `${keyPrefix}_${s.id}`;
        html += `
          <div class="supplement">
            <input type="checkbox" id="${id}" onchange="saveAndUpdate(this)">
            <label for="${id}">${s.label}</label>
            <span class="note">${s.note}</span>
          </div>`;
      });
      html += `</div>`;

      // Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…
      html += `<div class="time-block"><h3>ğŸŒ™ Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…</h3>`;
      supplements.evening.forEach(s => {
        const id = `${keyPrefix}_${s.id}`;
        html += `
          <div class="supplement">
            <input type="checkbox" id="${id}" onchange="saveAndUpdate(this)">
            <label for="${id}">${s.label}</label>
            <span class="note">${s.note}</span>
          </div>`;
      });
      html += `</div>`;

      return html;
    }

    function updateCurrentDay() {
      const today = new Date();
      const diff = Math.floor((today - START_DATE) / (1000 * 60 * 60 * 24));
      const dayOffset = diff >= 0 ? diff : 0;
      const date = getDateFromOffset(dayOffset);
      document.getElementById('current-date').textContent = formatDate(date);
      document.getElementById('day-container').innerHTML = generateDayHTML(dayOffset);
      document.getElementById('week-display').textContent = `Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${(Math.floor(dayOffset / 7) + 1)}`;
      updateProgress();
    }

    function changeWeek(direction) {
      currentWeekOffset += direction * 7;
      const dayOffset = currentWeekOffset;
      const date = getDateFromOffset(dayOffset);
      document.getElementById('current-date').textContent = formatDate(date);
      document.getElementById('day-container').innerHTML = generateDayHTML(dayOffset);
      document.getElementById('week-display').textContent = `Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${(Math.floor(dayOffset / 7) + 1)}`;
      updateProgress();
    }

    function saveAndUpdate(cb) {
      localStorage.setItem(cb.id, cb.checked);
      updateProgress();
    }

    function updateProgress() {
      const checkboxes = document.querySelectorAll('#day-container input[type="checkbox"]');
      const total = checkboxes.length;
      let checked = 0;
      checkboxes.forEach(cb => {
        cb.checked = localStorage.getItem(cb.id) === 'true';
        if (cb.checked) checked++;
      });
      const percent = total > 0 ? Math.round((checked / total) * 100) : 0;
      document.getElementById('progress-text').textContent = `${percent}%`;
      document.getElementById('checked-count').textContent = checked;
      document.getElementById('total-count').textContent = total;
      document.getElementById('progress-fill').style.width = `${percent}%`;
    }

    function exportData() {
      const data = {};
      Object.keys(localStorage).forEach(key => {
        if (key.includes('_')) data[key] = localStorage.getItem(key) === 'true';
      });
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `Ù…ÙƒÙ…Ù„Ø§Øª_Ù…Ù†_12-11-2025.json`;
      a.click();
    }

    function resetToday() {
      if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…ØŸ')) {
        const prefix = document.getElementById('current-date').textContent.replace('/', '_');
        Object.keys(localStorage).forEach(key => {
          if (key.startsWith(prefix)) localStorage.removeItem(key);
        });
        updateProgress();
      }
    }

    function printWeek() {
      const printWindow = window.open('', '', 'height=600,width=800');
      const weekStart = getDateFromOffset(currentWeekOffset - (currentWeekOffset % 7));
      let weekHTML = `<html><head><title>Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…ÙƒÙ…Ù„Ø§Øª</title><style>
        body{font-family:sans-serif;padding:20px;}h2{text-align:center;color:#004080;}
        .day{margin:20px 0;padding:15px;border:1px solid #ddd;border-radius:8px;}
        .supplement{margin:8px 0;}label{font-weight:bold;}
      </style></head><body><h1>Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…ÙƒÙ…Ù„Ø§Øª - Ø¨Ø¯Ø¡ Ù…Ù† ${formatDate(weekStart)}</h1>`;
      for (let i = 0; i < 7; i++) {
        const dayOffset = (currentWeekOffset - (currentWeekOffset % 7)) + i;
        const date = getDateFromOffset(dayOffset);
        weekHTML += `<div class="day"><h2>${formatDate(date)}</h2>${generateDayHTML(dayOffset)}</div>`;
      }
      weekHTML += `</body></html>`;
      printWindow.document.write(weekHTML);
      printWindow.document.close();
      printWindow.print();
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
    window.onload = updateCurrentDay;
  </script>
</body>
</html>
